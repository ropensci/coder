<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interpret regular expressions • coder</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Interpret regular expressions">
<meta property="og:description" content="coder">
<meta property="og:image" content="ropensci.github.io/coder/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.13.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/coder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/classcodes.html">Classcodes</a>
    </li>
    <li>
      <a href="../articles/ex_data.html">Example data</a>
    </li>
    <li>
      <a href="../articles/Interpret_regular_expressions.html">Interpret regular expressions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/coder/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Interpret regular expressions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/coder/blob/HEAD/vignettes/Interpret_regular_expressions.Rmd" class="external-link"><code>vignettes/Interpret_regular_expressions.Rmd</code></a></small>
      <div class="hidden name"><code>Interpret_regular_expressions.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/coder/" class="external-link">coder</a></span><span class="op">)</span></span></code></pre></div>
<p>Classcodes objects (as described in
<code><a href="../articles/classcodes.html">vignette("classcodes")</a></code>) use regular expressions to
classify/categorize individual codes into groups (i.e. comorbidity
conditions). Those regular expressions might be hard to interpret on
their own. Several methods are therefore available to aid such
interpretation of the classcodes objects.</p>
<div class="section level2">
<h2 id="visualize">
<code>visualize()</code><a class="anchor" aria-label="anchor" href="#visualize"></a>
</h2>
<p>A graphical representation of a classcodes object is created by
<code><a href="https://generics.r-lib.org/reference/visualize.html" class="external-link">visualize()</a></code>. It will be showed in the default web browser
(requires an Internet connection; not available within this
vignette).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://generics.r-lib.org/reference/visualize.html" class="external-link">visualize</a></span><span class="op">(</span><span class="va">charlson</span><span class="op">)</span></span></code></pre></div>
<p>Visualization of all groups (comorbidity conditions) simultaneously
might lead to complex figures. We can focus on a specific group
(comorbidity) by the <code>group</code> argument. How is myocardial
infarction codified by <code>regex_icd9cm_deyo</code>?</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://generics.r-lib.org/reference/visualize.html" class="external-link">visualize</a></span><span class="op">(</span><span class="va">charlson</span>, <span class="st">"myocardial infarction"</span>, regex    <span class="op">=</span> <span class="st">"icd9cm_deyo"</span><span class="op">)</span></span></code></pre></div>
<p><img src="regexp_charlson_ci_icd9.png" width="188"></p>
<p>Hence, all ICD-9 codes starting with <code>41</code> followed by
either <code>0</code> or <code>2</code> will be recognized as myocardial
infarction according to <code>icd9cm_deyo</code>. The corresponding
regular expression for ICD-10 is:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://generics.r-lib.org/reference/visualize.html" class="external-link">visualize</a></span><span class="op">(</span><span class="va">charlson</span>, <span class="st">"myocardial infarction"</span>, regex <span class="op">=</span> <span class="st">"icd10"</span><span class="op">)</span></span></code></pre></div>
<p><img src="regexp_charlson_ci_icd10.png" width="233"></p>
<p>Such codes should start with <code>I2</code> followed by either
<code>1</code>, <code>2</code> or <code>52</code>. The vertical bar
<code>|</code> (in the regular expression of the heading) indicates a
logical “or”. See <code><a href="https://rdrr.io/r/base/regex.html" class="external-link">?regex</a></code> for more details on how to use
regular expressions in R (Perl-like versions are currently not
allowed).</p>
</div>
<div class="section level2">
<h2 id="summary">
<code>summary()</code><a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>An alternative representation is to list all relevant codes
identified by each regular expression. This is implemented by the
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method for classcodes objects. Note, however,
that the regular expressions are stand alone in each classcodes object.
Hence, there are no static look-up-tables to map individual codes to
each group. We therefore need to specify a code list/dictionary of all
possible codes to be recognized by those regular expressions. Then
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> will categorize those and display the result.
Common code lists are found in the <a href="https://cancercentrum.bitbucket.io/decoder/" class="external-link">decoder</a> package
and are accessed automatically through the <code>coding</code> argument
to <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>. Hence, there is a “keyvalue” object
<code>icd10cm</code> with all ICD-10-CM codes in
<code>{decoder}:</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">decoder</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/decoder/man/icd10cm.html" class="external-link">icd10cm</a></span><span class="op">)</span></span>
<span><span class="co">#&gt;     key                                              value</span></span>
<span><span class="co">#&gt; 1  A000 Cholera due to Vibrio cholerae 01, biovar cholerae</span></span>
<span><span class="co">#&gt; 2  A001    Cholera due to Vibrio cholerae 01, biovar eltor</span></span>
<span><span class="co">#&gt; 3  A009                               Cholera, unspecified</span></span>
<span><span class="co">#&gt; 4 A0100                         Typhoid fever, unspecified</span></span>
<span><span class="co">#&gt; 5 A0101                                 Typhoid meningitis</span></span>
<span><span class="co">#&gt; 6 A0102               Typhoid fever with heart involvement</span></span></code></pre></div>
<p>We can use this code list to identify all codes recognized by
<code>charlson</code> with its default classification based on “icd10”.
The printed result (see <code><a href="../reference/summary.classcodes.html">?print.summary.classcodes</a></code>) is a
tibble with each group and a comma separated code list.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">charlson</span>, coding <span class="op">=</span> <span class="st">"icd10cm"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="va">s</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary of classcodes object</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Recognized codes per group:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 3</span></span></span>
<span><span class="co">#&gt;    group                                n codes                                 </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AIDS/HIV                             1 B20                                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cerebrovascular disease            430 G450, G451, G452, G453, G454, G458, G…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> chronic pulmonary disease           69 I2781, I2782, I2783, I2789, I279, J40…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> congestive heart failure            36 I099, I110, I130, I132, I255, I420, I…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> dementia                            11 F0150, F0151, F0280, F0281, F0390, F0…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> diabetes complication              204 E1021, E1022, E1029, E10311, E10319, …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> diabetes without complication       52 E1010, E1011, E10610, E10618, E10620,…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> hemiplegia or paraplegia            45 G041, G114, G801, G802, G8100, G8101,…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> malignancy                         961 C000, C001, C002, C003, C004, C005, C…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> metastatic solid tumor              47 C770, C771, C772, C773, C774, C775, C…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> mild liver disease                  38 B180, B181, B182, B188, B189, K700, K…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> moderate or severe liver disease    14 I8500, I8501, I864, K7040, K7041, K71…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> myocardial infarction               18 I2101, I2102, I2109, I2111, I2119, I2…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> peptic ulcer disease                36 K250, K251, K252, K253, K254, K255, K…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> peripheral vascular disease        274 I700, I701, I70201, I70202, I70203, I…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> renal disease                       28 I120, I1310, I1311, N032, N033, N034,…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> rheumatic disease                  348 M0500, M05011, M05012, M05019, M05021…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Use function visualize() for a graphical representation.</span></span></code></pre></div>
<p>A list with all code vectors (to use for programmatic purposes) is
also returned (invisible) and accessed by <code>s$codes_vct</code>.</p>
<p>Now, compare the result above with the output based on a different
code list, namely ICD-10-SE, the Swedish version of ICD-10, instead of
ICD-10-CM:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">charlson</span>, coding <span class="op">=</span> <span class="st">"icd10se"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary of classcodes object</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Recognized codes per group:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 3</span></span></span>
<span><span class="co">#&gt;    group                                n codes                                 </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AIDS/HIV                            22 B200, B201, B202, B203, B204, B205, B…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cerebrovascular disease             82 G450, G451, G452, G453, G454, G458, G…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> chronic pulmonary disease           57 I278, I279, J409, J410, J411, J418, J…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> congestive heart failure            19 I099, I110, I130, I132, I255, I420, I…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> dementia                            23 F000, F001, F002, F009, F010, F011, F…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> diabetes complication               71 E102, E102A, E102B, E102C, E102W, E10…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> diabetes without complication       55 E100, E100A, E100B, E100C, E100D, E10…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> hemiplegia or paraplegia            22 G041, G114, G801, G801A, G801B, G801X…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> malignancy                         525 C000, C001, C002, C003, C004, C005, C…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> metastatic solid tumor              29 C770, C771, C772, C773, C774, C775, C…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> mild liver disease                  83 B180, B180A, B180B, B180C, B180D, B18…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> moderate or severe liver disease    11 I850, I859, I864, I982, K704, K711, K…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> myocardial infarction               15 I210, I211, I212, I213, I214, I214A, …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> peptic ulcer disease                36 K250, K251, K252, K253, K254, K255, K…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> peripheral vascular disease         43 I700, I700A, I700B, I700X, I701, I702…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> renal disease                       27 I120, I131, N032, N033, N034, N035, N…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> rheumatic disease                   63 M050, M051, M052, M053, M058, M058A, …</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Use function visualize() for a graphical representation.</span></span></code></pre></div>
<p>There are some noticeable differences. AIDS/HIV for example has only
one code deemed clinically relevant in the USA (thus included in the
CM-version of ICD-10), although there are 22 different codes potentially
used in the Swedish national patient register. There are additional
differences concerning the fifth code position (digits in ICD-10-CM and
characters in ICD-10-SE). Those mark national modifications to the
original ICD-10 codes, which has only 4 positions (one character and
three digits). For this example, the <code>charlson$icd10</code> column
was based on ICD-10-CM <span class="citation">(Quan et al. 2005)</span>.
The comparison above thus highlights potential differences when using
this classification in a setting based on another classification (such
as with data from the Swedish national patient register).</p>
<p>If we are interested in another code version, for example as
specified by ICD-9-CM <span class="citation">(Deyo, Cherkin, and Ciol
1992)</span> , this can be specified by the <code>regex</code>-argument
passed by the <code>cc_args</code> argument to the
<code>set_classcodes</code> function. Simultaneously, the
<code>coding</code> argument is set to <code>icd9cmd</code> to match the
regular expressions to the disease part of ICD-9-CM classification.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span></span>
<span>  <span class="va">charlson</span>, coding <span class="op">=</span> <span class="st">"icd9cmd"</span>,</span>
<span>  cc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>regex <span class="op">=</span> <span class="st">"icd9cm_deyo"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary of classcodes object</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Recognized codes per group:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 3</span></span></span>
<span><span class="co">#&gt;    group                                n codes                                 </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AIDS/HIV                             1 042                                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cerebrovascular disease             69 430, 431, 4320, 4321, 4329, 43300, 43…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> chronic pulmonary disease            8 490, 500, 501, 502, 503, 504, 505, 50…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> congestive heart failure            15 4280, 4281, 42820, 42821, 42822, 4282…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> dementia                            14 2900, 29010, 29011, 29012, 29013, 290…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> diabetes complication               12 25040, 25041, 25042, 25043, 25050, 25…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> diabetes without complication       20 25000, 25001, 25002, 25003, 25010, 25…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> hemiplegia or paraplegia            13 34200, 34201, 34202, 34210, 34211, 34…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> malignancy                         628 1400, 1401, 1403, 1404, 1405, 1406, 1…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> metastatic solid tumor              30 1960, 1961, 1962, 1963, 1965, 1966, 1…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> mild liver disease                   7 5712, 57140, 57141, 57142, 57149, 571…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> moderate or severe liver disease     6 4560, 4561, 5722, 5723, 5724, 5728    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> myocardial infarction               31 41000, 41001, 41002, 41010, 41011, 41…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> peptic ulcer disease                72 53100, 53101, 53110, 53111, 53120, 53…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> peripheral vascular disease         15 44100, 44101, 44102, 44103, 4411, 441…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> renal disease                       26 5820, 5821, 5822, 5824, 58281, 58289,…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> rheumatic disease                    8 7100, 7101, 7104, 7140, 7141, 7142, 7…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Use function visualize() for a graphical representation.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="section"></h2>
</div>
<div class="section level2">
<h2 id="codebook">
<code>codebook()</code><a class="anchor" aria-label="anchor" href="#codebook"></a>
</h2>
<p>Even with individual codes summarized, those might still be hard to
interpret on their own. The <a href="https://cancercentrum.bitbucket.io/decoder/" class="external-link">decoder</a> package
can help to translate codes to readable names/description. This is
facilitated by the <code><a href="../reference/codebook.html">codebook()</a></code> function in the
<a href="https://docs.ropensci.org/coder/" class="external-link">coder</a> package.</p>
<p>The main purpose is to export an Excel-file (if path specified by
argument <code>file</code>). The output is otherwise a list, including
both a summary table (described above) and a tibble with “all_codes”
explaining the meaning of each code.</p>
<p>We can compare the codes recognized as AIDS/HIV by either ICD-10-CM
or ICD-10-SE:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">charlson</span>, <span class="st">"icd10cm"</span><span class="op">)</span><span class="op">$</span><span class="va">all_codes</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="va">cm</span><span class="op">[</span><span class="va">cm</span><span class="op">$</span><span class="va">group</span> <span class="op">==</span> <span class="st">"AIDS/HIV"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   code  description                                group   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> B20   Human immunodeficiency virus [HIV] disease AIDS/HIV</span></span>
<span></span>
<span><span class="va">se</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">charlson</span>, <span class="st">"icd10se"</span><span class="op">)</span><span class="op">$</span><span class="va">all_codes</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="va">se</span><span class="op">[</span><span class="va">se</span><span class="op">$</span><span class="va">group</span> <span class="op">==</span> <span class="st">"AIDS/HIV"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 22 × 3</span></span></span>
<span><span class="co">#&gt;    code  description                                                      group </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> B200  HIV-infektion med mykobakterieinfektion                          AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> B201  HIV-infektion med andra bakterieinfektioner                      AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> B202  HIV-infektion med cytomegalvirusinfektion                        AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> B203  HIV-infektion med andra virusinfektioner                         AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> B204  HIV-infektion med candidainfektion                               AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> B205  HIV-infektion med andra mykoser                                  AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> B206  HIV-infektion med Pneumocystis jirovecii (carinii)-pneumoni      AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> B207  HIV-infektion med multipla infektioner                           AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> B208  HIV-infektion med andra infektions- och parasitsjukdomar         AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> B209  HIV-infektion med ospecificerad infektions- eller parasitsjukdom AIDS/…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 12 more rows</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="codebooks">
<code>codebooks()</code><a class="anchor" aria-label="anchor" href="#codebooks"></a>
</h2>
<p>Several codebooks can be combined (exported to a single Excel-file)
by the function <code><a href="../reference/codebook.html">codebooks()</a></code> (note the plural s). This is
difficult to illustrate in a vignette but examples are provided in
<code><a href="../reference/codebook.html">?codebooks</a></code></p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Deyo1992" class="csl-entry">
Deyo, Richard A., Daniel C. Cherkin, and Marcia A. Ciol. 1992.
<span>“Adapting a Clinical Comorbidity Index for Use with ICD-9-CM
Administrative Databases.”</span> <em>Journal of Clinical
Epidemiology</em> 45 (6): 613–19. <a href="https://doi.org/10.1016/0895-4356(92)90133-8" class="external-link">https://doi.org/10.1016/0895-4356(92)90133-8</a>.
</div>
<div id="ref-Quan2005" class="csl-entry">
Quan, Hude, Vijaya Sundararajan, Patricia Halfon, Andrew Fong, Bernard
Burnand, Jean-Christophe Luthi, L Duncan Saunders, Cynthia a Beck,
Thomas E Feasby, and William a Ghali. 2005. <span>“Coding Algorithms for
Defining Comorbidities in ICD-9-CM and ICD-10 Administrative
Data.”</span> <em>Medical Care</em> 43 (11): 1130–39. <a href="https://doi.org/10.1097/01.mlr.0000182534.19832.83" class="external-link">https://doi.org/10.1097/01.mlr.0000182534.19832.83</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/ropensci" class="external-link">Erik Bulow</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

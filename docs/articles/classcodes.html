<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Classcodes • coder</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Classcodes">
<meta property="og:description" content="coder">
<meta property="og:image" content="ropensci.github.io/coder/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.13.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/coder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/classcodes.html">Classcodes</a>
    </li>
    <li>
      <a href="../articles/ex_data.html">Example data</a>
    </li>
    <li>
      <a href="../articles/Interpret_regular_expressions.html">Interpret regular expressions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/coder/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Classcodes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/coder/blob/HEAD/vignettes/classcodes.Rmd" class="external-link"><code>vignettes/classcodes.Rmd</code></a></small>
      <div class="hidden name"><code>classcodes.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/coder/" class="external-link">coder</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="motivating-example">Motivating example<a class="anchor" aria-label="anchor" href="#motivating-example"></a>
</h2>
<p>Let’s consider some example data (<code>ex_peopple</code> and
<code>ex_icd10</code>) from <code><a href="../articles/ex_data.html">vignette("ex_data")</a></code>.</p>
<p>Let’s categorize those patients by their Charlson comorbidity:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/categorize.html">categorize</a></span><span class="op">(</span><span class="va">ex_people</span>, codedata <span class="op">=</span> <span class="va">ex_icd10</span>, cc <span class="op">=</span> <span class="va">charlson</span>, id <span class="op">=</span> <span class="st">"name"</span>, code <span class="op">=</span> <span class="st">"icd10"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 25</span></span></span>
<span><span class="co">#&gt;    name       surgery    myoca…¹ conge…² perip…³ cereb…⁴ demen…⁵ chron…⁶ rheum…⁷</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Chen, Tre… 2023-02-28 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Graves, A… 2022-11-20 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Trujillo,… 2022-11-07 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Simpson, … 2023-02-09 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Chin, Nel… 2023-01-23 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Le, Chris… 2022-08-27 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Kang, Xuan 2022-11-29 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Shuemaker… 2022-08-28 FALSE   FALSE   FALSE   FALSE   FALSE   TRUE    FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Boucher, … 2023-02-03 FALSE   FALSE   TRUE    FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Le, Sorai… 2023-01-08 FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 90 more rows, 16 more variables: peptic.ulcer.disease &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   mild.liver.disease &lt;lgl&gt;, diabetes.without.complication &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   hemiplegia.or.paraplegia &lt;lgl&gt;, renal.disease &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   diabetes.complication &lt;lgl&gt;, malignancy &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   moderate.or.severe.liver.disease &lt;lgl&gt;, metastatic.solid.tumor &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIDS.HIV &lt;lgl&gt;, charlson &lt;dbl&gt;, deyo_ramano &lt;dbl&gt;, dhoore &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ghali &lt;dbl&gt;, quan_original &lt;dbl&gt;, quan_updated &lt;dbl&gt;, and abbreviated …</span></span></span></code></pre></div>
<p>Here, <code>charlson</code> (as supplied by the <code>cc</code>
argument) is a “classcodes” object containing a classification scheme.
This is the specification of how to match <code>ex_icd10$icd10</code> to
each condition recognized by the Charlson comorbidity classification. It
is based on regular expressions (see <code><a href="https://rdrr.io/r/base/regex.html" class="external-link">?regex</a></code>).</p>
</div>
<div class="section level2">
<h2 id="default-classcodes">Default classcodes<a class="anchor" aria-label="anchor" href="#default-classcodes"></a>
</h2>
<p>There are 7 default “classcodes” objects in the package
(<code>classcodes</code> column below). Each of them might have several
versions of regular expressions (column <code>regex</code>) and weighted
indices (column <code>indices</code>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/all_classcodes.html">all_classcodes</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 3</span></span></span>
<span><span class="co">#&gt;   classcodes    regex                                                    indices</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> charlson      icd10, icd9cm_deyo, icd9cm_enhanced, icd10_rcs, icd8_br… <span style="color: #949494;">"</span>charl…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> cps           icd10                                                    <span style="color: #949494;">"</span>only_…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> elixhauser    icd10, icd10_short, icd9cm, icd9cm_ahrqweb, icd9cm_enha… <span style="color: #949494;">"</span>sum_a…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> hip_ae        icd10, kva, icd10_fracture                               <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> hip_ae_hailer icd10, kva                                               <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> knee_ae       icd10, kva                                               <span style="color: #949494;">""</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> rxriskv       atc_pratt, atc_caughey, atc_garland                      <span style="color: #949494;">"</span>pratt…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classcodes-object">classcodes object<a class="anchor" aria-label="anchor" href="#classcodes-object"></a>
</h2>
<p>Each of those classcodes objects are documented (see for example
<code><a href="../reference/charlson.html">?charlson</a></code>). Those objects are basically tibbles (data
frames) with some additional attributes:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">charlson</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Classcodes object</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Regular expressions:</span></span>
<span><span class="co">#&gt;    icd10, icd9cm_deyo, icd9cm_enhanced, icd10_rcs, icd8_brusselaers, icd9_brusselaers </span></span>
<span><span class="co">#&gt; Indices:</span></span>
<span><span class="co">#&gt;    charlson, deyo_ramano, dhoore, ghali, quan_original, quan_updated   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17 × 14</span></span></span>
<span><span class="co">#&gt;    group   descr…¹ icd10 icd9c…² icd9c…³ icd10…⁴ icd8_…⁵ icd9_…⁶ charl…⁷ deyo_…⁸</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> myocar… Acute … I2([… 41[02]  41[02]  <span style="color: #949494;">"</span>I2([1… 41[0-2] 41[02]        1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> conges… Heart … I(09… 428     39891|… <span style="color: #949494;">"</span>I(1[1… 4270|4… 4(02|2…       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> periph… Periph… I7([… 44(39|… 0930|4… <span style="color: #949494;">"</span>(I7([… 44[0-5] 44[0-7…       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> cerebr… Cerebr… G4[5… 43[0-8] 36234|… <span style="color: #949494;">"</span>G4[56… 43[0-8] 362C|4…       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> dement… Senile… F0([… 290     29(0|4… <span style="color: #949494;">"</span>A810|… 290[01] 29[04]        1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> chroni… Chroni… (I27… 490|50… 4(16[8… <span style="color: #949494;">"</span>(I2[6… 49[0-3… 416|49…       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> rheuma… System… M(0[… 7(1(0[… 4465|7… <span style="color: #949494;">"</span>M(0[5… 7(1[0-… 71[0-4…       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> peptic… Gastri… K2[5… 53[1-4] 53[1-4]  <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>            1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> mild l… Alcoho… B18|… 571[24… 070([2…  <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>            1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> diabet… Diabet… E1[0… 250[0-… 250[0-…  <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>            1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> hemipl… Parapl… G(04… 34(41|… 3(341|… <span style="color: #949494;">"</span>G(114… 344     34[2-4]       2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> renal … Chroni… I1(2… 58([25… 40(3([… <span style="color: #949494;">"</span>I1[23… 40[34]… 40[34]…       2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> diabet… Diabet… E1[0… 250[4-… 250[4-… <span style="color: #949494;">"</span>E1[0-… 250     250           2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> malign… Malign… C([0… (1([4-… 1([4-6… <span style="color: #949494;">"</span>C([01… 1([4-6… 1([4-6…       2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> modera… Hepati… I(8(… 456[01… 456[0-… <span style="color: #949494;">"</span>B18|I… 070|45… 070|45…       3       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> metast… Second… C(7[… 19([6-… 19[6-9] <span style="color: #949494;">"</span>C(7[7… 19[6-9] 19[6-9]       6       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> AIDS/H… HIV in… B2[0… 04[2-4] 04[2-4] <span style="color: #949494;">"</span>B2[0-… <span style="color: #BB0000;">NA</span>      279K          6       1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 4 more variables: dhoore &lt;dbl&gt;, ghali &lt;dbl&gt;, quan_original &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   quan_updated &lt;dbl&gt;, and abbreviated variable names ¹​description,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​icd9cm_deyo, ³​icd9cm_enhanced, ⁴​icd10_rcs, ⁵​icd8_brusselaers,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ⁶​icd9_brusselaers, ⁷​charlson, ⁸​deyo_ramano</span></span></span></code></pre></div>
<p>Columns have pre-specified names and/or content:</p>
<ul>
<li>
<code>group</code>: short descriptive names of all groups to
classify by (i.e. medical conditions/comorbidities in the Charlson
case)</li>
<li>
<code>description:</code> (optional) details describing each
group</li>
<li>regular expressions identifying each group (see
<code><a href="../articles/Interpret_regular_expressions.html">vignette("Interpret_regular_expressions")</a></code> for details and
<code><a href="../reference/charlson.html">?charlson</a></code> for concrete examples). Multiple versions might
be used if combined with different code sets (i.e. ICD-9 versus ICD-10)
or as suggested by different sources/authors. (Column names are
arbitrary but identified by <code>attr(., "regexprs")</code> and
specified by argument <code>regex</code> in
<code><a href="../reference/classcodes.html">as.classcodes()</a></code>).</li>
<li>numeric vectors used as weights when calculating index sums based on
all (or a subset of) individual groups. (Column names are arbitrary but
identified by <code>attr(., "indices")</code> and specified by argument
<code>indices</code> in <code><a href="../reference/classcodes.html">as.classcodes()</a></code>.)</li>
<li>
<code>condition</code>: (optional) conditional classification (not
used with <code>charlson</code> but see example below).</li>
</ul>
<p>In the example above, we did not specify which version of the regular
expressions to use. We see from the printed output above (or by
<code>attr(charlson, "regexprs")</code>), that the first regular
expression is “icd10”. This will be used by default. We have ICD-10
codes recorded in our code data set (<code>ex_icd10$icd10</code>). We
might therefore use either “icd10” or the alternative “icd10_rcs”. Other
versions might be relevant if the medical data is coded by other codes
(such as earlier versions of ICD). We will show below how to alter this
setting in practice.</p>
</div>
<div class="section level2">
<h2 id="hierarchy">Hierarchy<a class="anchor" aria-label="anchor" href="#hierarchy"></a>
</h2>
<p>Some classcodes objects have an additional class attribute
“hierarchy”, controlling hierarchical groups where only one of possibly
several groups should be used in weighted index sums. The classcodes
object for the Elixhauser comorbidity classification has this
property:<br></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">elixhauser</span>, n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># preview 0 rows but present the attributes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Classcodes object</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Regular expressions:</span></span>
<span><span class="co">#&gt;    icd10, icd10_short, icd9cm, icd9cm_ahrqweb, icd9cm_enhanced </span></span>
<span><span class="co">#&gt; Indices:</span></span>
<span><span class="co">#&gt;    sum_all, sum_all_ahrq, walraven, sid29, sid30, ahrq_mort, ahrq_readm </span></span>
<span><span class="co">#&gt; Hierarchy:</span></span>
<span><span class="co">#&gt;    c("metastatic cancer", "solid tumor"),</span></span>
<span><span class="co">#&gt;    c("diabetes uncomplicated", "diabetes complicated")</span></span></code></pre></div>
<p>This means that patients who have both metastatic cancer and solid
tumors should be recognized as such if classified. If such patient are
assigned an aggregated index score, however, only the largest score is
used (in this case for a metastatic cancer as superior to a solid
tumor). The same is true for patients diagnosed with both uncomplicated
and complicated diabetes.</p>
<p>Consider a patient Alice with some diagnoses:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pat</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Alice"</span><span class="op">)</span></span>
<span><span class="va">diags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C01"</span>, <span class="st">"C801"</span>, <span class="st">"E1010"</span>, <span class="st">"E1021"</span><span class="op">)</span></span>
<span><span class="fu">decoder</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/decoder/man/decode.html" class="external-link">decode</a></span><span class="op">(</span><span class="va">diags</span>, <span class="fu">decoder</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/decoder/man/icd10cm.html" class="external-link">icd10cm</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Malignant neoplasm of base of tongue"                   </span></span>
<span><span class="co">#&gt; [2] "Malignant (primary) neoplasm, unspecified"              </span></span>
<span><span class="co">#&gt; [3] "Type 1 diabetes mellitus with ketoacidosis without coma"</span></span>
<span><span class="co">#&gt; [4] "Type 1 diabetes mellitus with diabetic nephropathy"</span></span></code></pre></div>
<p>According to Elixhauser, poor Alice has both a solid tumor and a
metastatic cancer, as well as diabetes both with and without
complications. The (unweighted) index “sum_all”, however will not equal
4 but 2, since metastatic cancer and diabetes with complications subsume
solid tumors and diabetes without complications.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icd10</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Alice"</span>, icd10 <span class="op">=</span> <span class="va">diags</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/categorize.html">categorize</a></span><span class="op">(</span><span class="va">pat</span>, codedata <span class="op">=</span> <span class="va">icd10</span>, cc <span class="op">=</span> <span class="va">elixhauser</span>, </span>
<span>                id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"icd10"</span>, index <span class="op">=</span> <span class="st">"sum_all"</span>, check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                [,1]   </span></span>
<span><span class="co">#&gt; id                             "Alice"</span></span>
<span><span class="co">#&gt; congestive heart failure       "FALSE"</span></span>
<span><span class="co">#&gt; cardiac arrhythmias            "FALSE"</span></span>
<span><span class="co">#&gt; valvular disease               "FALSE"</span></span>
<span><span class="co">#&gt; pulmonary circulation disorder "FALSE"</span></span>
<span><span class="co">#&gt; peripheral vascular disorder   "FALSE"</span></span>
<span><span class="co">#&gt; hypertension uncomplicated     "FALSE"</span></span>
<span><span class="co">#&gt; hypertension complicated       "FALSE"</span></span>
<span><span class="co">#&gt; paralysis                      "FALSE"</span></span>
<span><span class="co">#&gt; other neurological disorders   "FALSE"</span></span>
<span><span class="co">#&gt; chronic pulmonary disease      "FALSE"</span></span>
<span><span class="co">#&gt; diabetes uncomplicated         "TRUE" </span></span>
<span><span class="co">#&gt; diabetes complicated           "TRUE" </span></span>
<span><span class="co">#&gt; hypothyroidism                 "FALSE"</span></span>
<span><span class="co">#&gt; renal failure                  "FALSE"</span></span>
<span><span class="co">#&gt; liver disease                  "FALSE"</span></span>
<span><span class="co">#&gt; peptic ulcer disease           "FALSE"</span></span>
<span><span class="co">#&gt; AIDS/HIV                       "FALSE"</span></span>
<span><span class="co">#&gt; lymphoma                       "FALSE"</span></span>
<span><span class="co">#&gt; metastatic cancer              "TRUE" </span></span>
<span><span class="co">#&gt; solid tumor                    "TRUE" </span></span>
<span><span class="co">#&gt; rheumatoid arthritis           "FALSE"</span></span>
<span><span class="co">#&gt; coagulopathy                   "FALSE"</span></span>
<span><span class="co">#&gt; obesity                        "FALSE"</span></span>
<span><span class="co">#&gt; weight loss                    "FALSE"</span></span>
<span><span class="co">#&gt; fluid electrolyte disorders    "FALSE"</span></span>
<span><span class="co">#&gt; blood loss anemia              "FALSE"</span></span>
<span><span class="co">#&gt; deficiency anemia              "FALSE"</span></span>
<span><span class="co">#&gt; alcohol abuse                  "FALSE"</span></span>
<span><span class="co">#&gt; drug abuse                     "FALSE"</span></span>
<span><span class="co">#&gt; psychoses                      "FALSE"</span></span>
<span><span class="co">#&gt; depression                     "FALSE"</span></span>
<span><span class="co">#&gt; sum_all                        "2"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conditions">Conditions<a class="anchor" aria-label="anchor" href="#conditions"></a>
</h2>
<p>Consider Alice once more. Suppose she got a THA and had some surgical
procedure codes recorded at hospital visits either before, during or
after her index surgery. Those codes are recorded by the Nomesco
classification of surgical procedures (also known as KVA codes in
Swedish). Here, “post_op” indicates whether the code was recorded after
surgery or not. This information is not always accessible by pure date
stamps (if so, the approach illustrated in
<code><a href="../articles/coder.html">vignette("coder")</a></code> could be used instead).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">nomesco</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    id      <span class="op">=</span> <span class="st">"Alice"</span>,</span>
<span>    kva     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AA01"</span>, <span class="st">"NFC01"</span><span class="op">)</span>,</span>
<span>    post_op <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Thus, the “post_op” column is a Boolean/logical vector with a name
recognized from the “condition” column in <code>hip_ae</code>, a
classcodes object used to identify adverse events after THA (the use of
<code><a href="../reference/set_classcodes.html">set_classcodes()</a></code> is further explained below and is used
here since <code>hip_ae</code> includes codes for both ICD and
NOMESCO/KVA).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/set_classcodes.html">set_classcodes</a></span><span class="op">(</span><span class="va">hip_ae</span>, regex <span class="op">=</span> <span class="st">"kva"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Classcodes object</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Regular expressions:</span></span>
<span><span class="co">#&gt;    kva </span></span>
<span><span class="co">#&gt; Indices:</span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   group kva                                                              condi…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> KVA   ^(NF([CF-HJ-MS-TW]|A(02|1[12]|2[0-2])|Q09|U[013489]9)|QD(A10|B(… post_op</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​condition</span></span></span></code></pre></div>
<p>A code from <code>nomesco$kva</code> will only be recognized as an
adverse events if 1) the code is matched by the relevant regular
expression, and 2) the extra condition (from
<code>nomesco$post_op</code>) is <code>TRUE.</code></p>
<p>We need to specify that codes are based on regular expressions
matching NOMESCO codes. We do this by the <code>regex</code> argument
passed to <code><a href="../reference/set_classcodes.html">set_classcodes()</a></code> by the <code>cc_args</code>
argument.</p>
<p>In the data set (<code>nomesco</code>), “AA01” was recorded after
surgery but does not indicate a potential adverse event. “NFC01” is a
potential adverse event but was recorded already before surgery.
Therefore, no adverse event will be recognized in this case.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/categorize.html">categorize</a></span><span class="op">(</span><span class="va">pat</span>, codedata <span class="op">=</span> <span class="va">nomesco</span>, cc <span class="op">=</span> <span class="va">hip_ae</span>, id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"kva"</span>,</span>
<span>           cc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>regex <span class="op">=</span> <span class="st">"kva"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; index calculated as number of relevant categories</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   id    KVA   index</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Alice FALSE     0</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-classcodes-objects">Use classcodes objects<a class="anchor" aria-label="anchor" href="#use-classcodes-objects"></a>
</h2>
<p>Most functions do not use the classcodes object themselves, but a
modified version passed through <code><a href="../reference/set_classcodes.html">set_classcodes()</a></code>. This
function can be called directly but is more often invoked by arguments
passed by the <code>cc_args</code> argument used in other functions (as
in the example above).</p>
<div class="section level3">
<h3 id="explicit-use-of-set_classcodes">Explicit use of <code>set_classcodes()</code><a class="anchor" aria-label="anchor" href="#explicit-use-of-set_classcodes"></a>
</h3>
<p>We might use <code><a href="../reference/set_classcodes.html">set_classcodes()</a></code> to prepare a
classification scheme according to the Charlson comorbidity index based
on ICD-8 <span class="citation">(Brusselaers and Lagergren 2017)</span>.
Assume that such codes might be found in character strings with leading
prefixes or in the middle of a more verbatim description. This is
controlled by setting the argument <code>start = FALSE</code>, meaning
that the identified ICD-8 codes do not need to appear in the beginning
of the character string. We might assume, however, that there is no more
information after the code (as specified by <code>stop = TRUE</code>).
We can also use some more specific and unique group names as specified
by <code>tech_names</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">charlson_icd8</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/set_classcodes.html">set_classcodes</a></span><span class="op">(</span></span>
<span>    <span class="st">"charlson"</span>,</span>
<span>    regex      <span class="op">=</span> <span class="st">"icd8_brusselaers"</span>, <span class="co"># Version based on ICD-8</span></span>
<span>    start      <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Codes do not have to occur in the beginning of a vector</span></span>
<span>    stop       <span class="op">=</span> <span class="cn">TRUE</span>,  <span class="co"># Code vector must end with the specified codes</span></span>
<span>    tech_names <span class="op">=</span> <span class="cn">TRUE</span>   <span class="co"># Use long but unique and descriptive variable names</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>The resulting object has only one version of regular expressions
(<code>icd8_brusselaers</code> as specified). Each regular expression is
suffixed with <code>$</code> (due to <code>stop = TRUE</code>). Group
names might seem cumbersome but this will help to distinguish column
names added by <code><a href="../reference/categorize.html">categorize()</a></code> if this function is run
repeatedly with different classcodes (i.e. if we calculate both Charlson
and Elixhauser indices for the same patients). The original
<code>charlson</code> object had 17 rows, but <code>charlson_icd8</code>
has only 13, since not all groups are used in this version.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">charlson_icd8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Classcodes object</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Regular expressions:</span></span>
<span><span class="co">#&gt;    icd8_brusselaers </span></span>
<span><span class="co">#&gt; Indices:</span></span>
<span><span class="co">#&gt;    charlson, deyo_ramano, dhoore, ghali, quan_original, quan_updated   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 13 × 9</span></span></span>
<span><span class="co">#&gt;    group            descr…¹ icd8_…² charl…³ deyo_…⁴ dhoore ghali quan_…⁵ quan_…⁶</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> charlson_icd8_b… Acute … (41[0-…       1       1      1     1       1       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> charlson_icd8_b… Heart … (4270|…       1       1      1     4       1       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> charlson_icd8_b… Periph… (44[0-…       1       1      1     2       1       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> charlson_icd8_b… Cerebr… (43[0-…       1       1      1     1       1       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> charlson_icd8_b… Senile… (290[0…       1       1      1     0       1       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> charlson_icd8_b… Chroni… (49[0-…       1       1      1     0       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> charlson_icd8_b… System… (7(1[0…       1       1      1     0       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> charlson_icd8_b… Parapl… (344)$        2       1      1     0       2       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> charlson_icd8_b… Chroni… (40[34…       2       1      1     3       2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> charlson_icd8_b… Diabet… (250)$        2       1      1     0       2       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> charlson_icd8_b… Malign… (1([4-…       2       1      1     0       2       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> charlson_icd8_b… Hepati… (070|4…       3       1      1     0       3       4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> charlson_icd8_b… Second… (19[6-…       6       1      1     0       6       6</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​description, ²​icd8_brusselaers, ³​charlson,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ⁴​deyo_ramano, ⁵​quan_original, ⁶​quan_updated</span></span></span></code></pre></div>
<p>Note that all index columns remain in the tibble. It is thus possible
to combine any categorization with any index, although some combinations
might be preferred (such as <code>regex_icd9cm_deyo</code> combined with
<code>index_deyo_ramano</code>).</p>
<p>We can now use <code>charlson_icd8</code> for classification:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/classify.html">classify</a></span><span class="op">(</span><span class="fl">410</span>, <span class="va">charlson_icd8</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd8_brusselaers</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The printed data is of class: classified, matrix.</span></span>
<span><span class="co">#&gt; It has 1 row(s).</span></span>
<span><span class="co">#&gt; It is here previewed as a tibble</span></span>
<span><span class="co">#&gt; Use `print(x, n = NULL)` to print as is (or use `n` to specify the number of rows to preview)!</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 13</span></span></span>
<span><span class="co">#&gt;   charlson_icd…¹ charl…² charl…³ charl…⁴ charl…⁵ charl…⁶ charl…⁷ charl…⁸ charl…⁹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE           FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 4 more variables:</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_diabetes_complication &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_malignancy &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_moderate_or_severe_liver_disease &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_metastatic_solid_tumor &lt;lgl&gt;, and abbreviated</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   variable names ¹​charlson_icd8_brusselaers_myocardial_infarction,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​charlson_icd8_brusselaers_congestive_heart_failure, …</span></span></span></code></pre></div>
<p>The ICD-8 code <code>410</code>is recognized as (only) myocardial
infarction.</p>
</div>
<div class="section level3">
<h3 id="implicit-use-of-set_classcodes">Implicit use of <code>set_classcodes()</code><a class="anchor" aria-label="anchor" href="#implicit-use-of-set_classcodes"></a>
</h3>
<p>Instead of pre-specifying the <code>charlson_icd8</code>, a similar
result is achieved by:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/classify.html">classify</a></span><span class="op">(</span></span>
<span>  <span class="fl">410</span>,</span>
<span>  <span class="st">"charlson"</span>,</span>
<span>  cc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    regex      <span class="op">=</span> <span class="st">"icd8_brusselaers"</span>, </span>
<span>    start      <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>    stop       <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    tech_names <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The printed data is of class: classified, matrix.</span></span>
<span><span class="co">#&gt; It has 1 row(s).</span></span>
<span><span class="co">#&gt; It is here previewed as a tibble</span></span>
<span><span class="co">#&gt; Use `print(x, n = NULL)` to print as is (or use `n` to specify the number of rows to preview)!</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 13</span></span></span>
<span><span class="co">#&gt;   charlson_icd…¹ charl…² charl…³ charl…⁴ charl…⁵ charl…⁶ charl…⁷ charl…⁸ charl…⁹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE           FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 4 more variables:</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_diabetes_complication &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_malignancy &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_moderate_or_severe_liver_disease &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   charlson_icd8_brusselaers_metastatic_solid_tumor &lt;lgl&gt;, and abbreviated</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   variable names ¹​charlson_icd8_brusselaers_myocardial_infarction,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​charlson_icd8_brusselaers_congestive_heart_failure, …</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Brusselaers2017" class="csl-entry">
Brusselaers, Nele, and Jesper Lagergren. 2017. <span>“The Charlson
Comorbidity Index in Registry-Based Research.”</span> <em>Methods of
Information in Medicine</em> 56 (05): 401–6. <a href="https://doi.org/10.3414/ME17-01-0051" class="external-link">https://doi.org/10.3414/ME17-01-0051</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/ropensci" class="external-link">Erik Bulow</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Deterministic Categorization of Items Based on External Code Data • coder</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Deterministic Categorization of Items Based on External Code Data">
<meta name="description" content="Fast categorization of items based on external code data identified by regular expressions. A typical use case considers patient with medically coded data, such as codes from the International Classification of Diseases (ICD) or the Anatomic Therapeutic Chemical (ATC) classification system. Functions of the package relies on a triad of objects: (1) case data with unit id:s and possible dates of interest; (2) external code data for corresponding units in (1) and with optional dates of interest and; (3) a classification scheme (classcodes object) with regular expressions to identify and categorize relevant codes from (2). It is easy to introduce new classification schemes (classcodes objects) or to use default schemes included in the package. Use cases includes patient categorization based on comorbidity indices such as Charlson, Elixhauser, RxRisk V, or the comorbidity-polypharmacy score (CPS), as well as adverse events after hip and knee replacement surgery.">
<meta property="og:description" content="Fast categorization of items based on external code data identified by regular expressions. A typical use case considers patient with medically coded data, such as codes from the International Classification of Diseases (ICD) or the Anatomic Therapeutic Chemical (ATC) classification system. Functions of the package relies on a triad of objects: (1) case data with unit id:s and possible dates of interest; (2) external code data for corresponding units in (1) and with optional dates of interest and; (3) a classification scheme (classcodes object) with regular expressions to identify and categorize relevant codes from (2). It is easy to introduce new classification schemes (classcodes objects) or to use default schemes included in the package. Use cases includes patient categorization based on comorbidity indices such as Charlson, Elixhauser, RxRisk V, or the comorbidity-polypharmacy score (CPS), as well as adverse events after hip and knee replacement surgery.">
<meta property="og:image" content="https://docs.ropensci.org/coder/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">coder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/coder.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/classcodes.html">Classcodes</a></li>
    <li><a class="dropdown-item" href="articles/ex_data.html">Example data</a></li>
    <li><a class="dropdown-item" href="articles/Interpret_regular_expressions.html">Interpret regular expressions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/coder/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="coder-">coder <a class="anchor" aria-label="anchor" href="#coder-"></a>
</h1>
</div>
<p><a href="https://github.com/ropensci/coder/actions" class="external-link"><img src="https://github.com/ropensci/coder/workflows/R-CMD-check/badge.svg" alt="R build status"></a> <a href="https://app.codecov.io/gh/ropensci/coder" class="external-link"><img src="https://codecov.io/gh/ropensci/coder/branch/master/graph/badge.svg" alt="codecov"></a> <a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <a href="https://zenodo.org/badge/latestdoi/65975808" class="external-link"><img src="https://zenodo.org/badge/65975808.svg" alt="DOI"></a> <a href="https://joss.theoj.org/papers/10.21105/joss.02916" class="external-link"><img src="https://joss.theoj.org/papers/10.21105/joss.02916/status.svg" alt="status"></a> <a href="https://CRAN.R-project.org/package=coder" class="external-link"><img src="https://www.r-pkg.org/badges/version/coder" alt="CRAN status"></a> <img src="http://cranlogs.r-pkg.org/badges/grand-total/coder" alt="CRAN downloads"></p>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div class="section level2">
<h2 id="aim-of-the-package">Aim of the package<a class="anchor" aria-label="anchor" href="#aim-of-the-package"></a>
</h2>
<p>The goal of <a href="https://docs.ropensci.org/coder/">coder</a> is to classify items from one dataset, using codes from a secondary source with classification schemes based on regular expressions and weighted indices.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of coder from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("coder")</span></span></code></pre></div>
<p>And the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"eribul/coder"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="typical-use-case">Typical use case<a class="anchor" aria-label="anchor" href="#typical-use-case"></a>
</h2>
<ul>
<li>Determining comorbidities before clinical trials</li>
<li>Discovering adverse events after surgery</li>
</ul>
<p><strong>Patient data:</strong> The initial rationale for the package was to classify patient data based on medical coding. A typical use case would consider patients from a medical/administrative data base, as identified by some patient id and possibly with some associated date of interest (date of diagnoses/treatment/intervention/hospitalization/rehabilitation). This data source could be for example an administrative hospital register or a national quality register.</p>
<p><strong>Codify:</strong> The primary source could then be linked to a secondary (possibly larger) data base including the same patients with corresponding id:s and some coded patient data. This could be a national patient register with medical codes from the International Classification of Diseases <em>(ICD)</em> with corresponding dates of hospital visits/admission/discharge, or a medical prescription register with codes from the Anatomic Therapeutic Chemical <em>(ATC)</em> classification system with dates of medical prescription/dispatch/usage. A time window could be specified relating the date of the primary source (i. e. the date of a primary total hip arthroplasty; THA), to dates from the secondary source (i.e. the date of a medical prescription). ATC codes associated with medical prescriptions during one year prior to THA, could thus be identified and used as a measure of comorbidity. Another time window of 90 days after THA, might instead be used to identify adverse events after surgery.</p>
<p><strong>Classify:</strong> To work with medical/chemical codes directly might be cumbersome, since those classifications tend to be massive and therefore hard to interpret. It is thus common to use data aggregation as proposed by some classification or combined index from the literature. This could be the <em>Charlson</em> or <em>Elixhauser</em> comorbidity indices based on ICD-codes, or the <em>RxRisk V</em> classification based on ATC-codes. Each of those tools appear with different code versions (ICD-8, ICD-9, ICD-9-CM, ICD-10, ICD-10-CA, ICD-10-SE, ICD-10-CM et cetera) and with different codes recognized as relevant comorbidities (the Charlson index proposed by Charlson et al, Deyo et al, Romano et al. Quan et al. et cetera). Using a third object (in addition to the primary and secondary patient data sets) helps to formalize and structure the use of such classifications. This is implemented in the <code>coder</code> package by <code>classcodes</code> objects based on regular expressions (often with several alternative versions). Those <code>classcodes</code> objects could be prepared by the user, although a number of default <code>classcodes</code> are also included in the package (table below).</p>
<p><strong>Index:</strong> Now, instead of working with tens of thousands of individual ICD-codes, each patient might be recognized to have none or some familiar comorbidity such as hypertension, cancer or dementia. This granularity might be too fine-grained still, wherefore an even simpler index score might be searched for. Such scores/indices/weighted sums have been proposed as well and exist in many versions for each of the standard classifications. Some are simple counts, some are weighted sums, and some accounts for some inherited hierarchy (such that ICD-codes for diabetes with and without complications might be recognized in the same patient, although the un-complicated version might be masked by the complicated version in the index).</p>
<p><strong>Conditions:</strong> Some further complexity might appear if some codes are only supposed to be recognized based on certain conditions. Patients with THA for example might have an adverse event after surgery if a certain ICD-code is recorded as the main diagnose at a later hospital visit, although the same code could be ignored if recorded only as a secondary diagnosis.</p>
<p><strong>To summarize:</strong> The coder package takes three objects: (1) a data frame/table/tibble with id and possible dates from a primary source; (2) coded data from a secondary source with the same id and possibly different dates and; (3) a <code>classcodes</code> object, either a default one from the package, or as specified by the user. The outcome is then: (i) codes associated with each element from (1) identified from (2), possibly limited to a relevant time window; (ii) a broader categorization of the relevant codes as prescribed by (3), and; (iii) a summarized index score based on the relevant categories from (3).</p>
<p>(i-iii) corresponds to the output from functions <code><a href="reference/codify.html">codify()</a></code>, <code><a href="reference/classify.html">classify()</a></code> and <code><a href="reference/index_fun.html">index()</a></code>, which could be chained explicitly as <code>codify() %&gt;% classify() %&gt;% index()</code>, or implicitly by the <code><a href="reference/categorize.html">categorize()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Assume we have some patients with surgery at specified dates:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/coder/">coder</a></span><span class="op">)</span></span>
<span><span class="va">ex_people</span></span>
<span><span class="co">#&gt; # A tibble: 100 × 2</span></span>
<span><span class="co">#&gt;    name              surgery   </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;             &lt;date&gt;    </span></span>
<span><span class="co">#&gt;  1 Chen, Trevor      2025-04-21</span></span>
<span><span class="co">#&gt;  2 Graves, Acineth   2025-01-11</span></span>
<span><span class="co">#&gt;  3 Trujillo, Yanelly 2024-12-29</span></span>
<span><span class="co">#&gt;  4 Simpson, Kenneth  2025-04-02</span></span>
<span><span class="co">#&gt;  5 Chin, Nelson      2025-03-16</span></span>
<span><span class="co">#&gt;  6 Le, Christina     2024-10-18</span></span>
<span><span class="co">#&gt;  7 Kang, Xuan        2025-01-20</span></span>
<span><span class="co">#&gt;  8 Shuemaker, Lauren 2024-10-19</span></span>
<span><span class="co">#&gt;  9 Boucher, Teresa   2025-03-27</span></span>
<span><span class="co">#&gt; 10 Le, Soraiya       2025-03-01</span></span>
<span><span class="co">#&gt; # ℹ 90 more rows</span></span></code></pre></div>
<p>Those patients (among others) were also recorded in a national patient register with date of hospital admissions and diagnoses codes coded by the International Classification of Diseases (ICD) version 10:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_icd10</span></span>
<span><span class="co">#&gt; # A tibble: 2,376 × 4</span></span>
<span><span class="co">#&gt;    name                 admission  icd10 hdia </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                &lt;date&gt;     &lt;chr&gt; &lt;lgl&gt;</span></span>
<span><span class="co">#&gt;  1 Tran, Kenneth        2024-11-02 S134A FALSE</span></span>
<span><span class="co">#&gt;  2 Tran, Kenneth        2025-04-18 W3319 FALSE</span></span>
<span><span class="co">#&gt;  3 Tran, Kenneth        2025-03-28 Y0262 TRUE </span></span>
<span><span class="co">#&gt;  4 Tran, Kenneth        2025-02-18 X0488 FALSE</span></span>
<span><span class="co">#&gt;  5 Sommerville, Dominic 2025-04-09 V8104 FALSE</span></span>
<span><span class="co">#&gt;  6 Sommerville, Dominic 2024-11-18 B853  FALSE</span></span>
<span><span class="co">#&gt;  7 Sommerville, Dominic 2025-04-04 Q174  FALSE</span></span>
<span><span class="co">#&gt;  8 Sommerville, Dominic 2024-11-23 A227  FALSE</span></span>
<span><span class="co">#&gt;  9 Sommerville, Dominic 2025-03-30 H702  FALSE</span></span>
<span><span class="co">#&gt; 10 Sommerville, Dominic 2024-07-22 X6051 TRUE </span></span>
<span><span class="co">#&gt; # ℹ 2,366 more rows</span></span></code></pre></div>
<p>Using those two data sets, as well as a classification scheme (<code>classcodes</code> object; see below), we can easily identify all Charlson comorbidities for each patient:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ch</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/categorize.html">categorize</a></span><span class="op">(</span></span>
<span>    <span class="va">ex_people</span>,                  <span class="co"># patients of interest </span></span>
<span>    codedata <span class="op">=</span> <span class="va">ex_icd10</span>,        <span class="co"># Medical codes from national patient register</span></span>
<span>    cc <span class="op">=</span> <span class="st">"charlson"</span>,            <span class="co"># Calculate Charlson comorbidity</span></span>
<span>    id <span class="op">=</span> <span class="st">"name"</span>, code <span class="op">=</span> <span class="st">"icd10"</span> <span class="co"># Specify column names</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span>
<span></span>
<span><span class="va">ch</span></span>
<span><span class="co">#&gt; # A tibble: 100 × 25</span></span>
<span><span class="co">#&gt;    name            surgery    myocardial.infarction congestive.heart.fai…¹ peripheral.vascular.…² cerebrovascular.dise…³ dementia</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;date&gt;     &lt;lgl&gt;                 &lt;lgl&gt;                  &lt;lgl&gt;                  &lt;lgl&gt;                  &lt;lgl&gt;   </span></span>
<span><span class="co">#&gt;  1 Chen, Trevor    2025-04-21 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  2 Graves, Acineth 2025-01-11 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  3 Trujillo, Yane… 2024-12-29 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  4 Simpson, Kenne… 2025-04-02 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  5 Chin, Nelson    2025-03-16 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  6 Le, Christina   2024-10-18 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  7 Kang, Xuan      2025-01-20 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  8 Shuemaker, Lau… 2024-10-19 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt;  9 Boucher, Teresa 2025-03-27 FALSE                 FALSE                  TRUE                   FALSE                  FALSE   </span></span>
<span><span class="co">#&gt; 10 Le, Soraiya     2025-03-01 FALSE                 FALSE                  FALSE                  FALSE                  FALSE   </span></span>
<span><span class="co">#&gt; # ℹ 90 more rows</span></span>
<span><span class="co">#&gt; # ℹ abbreviated names: ¹​congestive.heart.failure, ²​peripheral.vascular.disease, ³​cerebrovascular.disease</span></span>
<span><span class="co">#&gt; # ℹ 18 more variables: chronic.pulmonary.disease &lt;lgl&gt;, rheumatic.disease &lt;lgl&gt;, peptic.ulcer.disease &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   mild.liver.disease &lt;lgl&gt;, diabetes.without.complication &lt;lgl&gt;, hemiplegia.or.paraplegia &lt;lgl&gt;, renal.disease &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   diabetes.complication &lt;lgl&gt;, malignancy &lt;lgl&gt;, moderate.or.severe.liver.disease &lt;lgl&gt;, metastatic.solid.tumor &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   AIDS.HIV &lt;lgl&gt;, charlson &lt;dbl&gt;, deyo_ramano &lt;dbl&gt;, dhoore &lt;dbl&gt;, ghali &lt;dbl&gt;, quan_original &lt;dbl&gt;, quan_updated &lt;dbl&gt;</span></span></code></pre></div>
<p>How many patients were diagnosed with malignancy?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ch</span><span class="op">$</span><span class="va">malignancy</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>What is the distribution of the combined comorbidity index for each patient?</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">ch</span><span class="op">$</span><span class="va">charlson</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/READMEunnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5" width="100%"><p class="caption">
plot of chunk unnamed-chunk-5
</p>
</div>
<p>There are many versions of the Charlson comorbidity index, which might be controlled by the <code>index</code> argument. We might also be interested only in diagnoses from 90 days before surgery as specified with an argument list <code>codify_args</code>as passed to <code><a href="reference/codify.html">codify()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ch</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/categorize.html">categorize</a></span><span class="op">(</span></span>
<span>    <span class="va">ex_people</span>, codedata <span class="op">=</span> <span class="va">ex_icd10</span>, cc <span class="op">=</span> <span class="st">"charlson"</span>, id <span class="op">=</span> <span class="st">"name"</span>, code <span class="op">=</span> <span class="st">"icd10"</span>,</span>
<span>    </span>
<span>    <span class="co"># Additional arguments</span></span>
<span>    index       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"quan_original"</span>, <span class="st">"quan_updated"</span><span class="op">)</span>, <span class="co"># Indices</span></span>
<span>    codify_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      date      <span class="op">=</span> <span class="st">"surgery"</span>,   <span class="co"># Name of column with index dates</span></span>
<span>      code_date <span class="op">=</span> <span class="st">"admission"</span>, <span class="co"># Name of column with code dates</span></span>
<span>      days      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">90</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>   <span class="co"># Time window</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Classification based on: icd10</span></span></code></pre></div>
<p>Number of malignancies during this period?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ch</span><span class="op">$</span><span class="va">malignancy</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>Distribution of the index as proposed by Quan et al 2011 during the 90 day period:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">ch</span><span class="op">$</span><span class="va">quan_updated</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/READMEunnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" width="100%"><p class="caption">
plot of chunk unnamed-chunk-8
</p>
</div>
</div>
<div class="section level2">
<h2 id="classification-schemes">Classification schemes<a class="anchor" aria-label="anchor" href="#classification-schemes"></a>
</h2>
<p>Classification schemes (<code>classcodes</code> objects, see <code><a href="articles/classcodes.html">vignette("classcodes")</a></code>) are based on regular expressions for computational speed (see <code><a href="articles/Interpret_regular_expressions.html">vignette("Interpret_regular_expressions")</a></code>), but their content can be summarized and visualized for clarity. Arbitrary <code>classcodes</code> objects can also be specified by the user.</p>
<p>The package includes default <code>classcodes</code> for medical patient data based on the international classification of diseases version 8, 9 and 10 (ICD-8/9/10), as well as the Anatomical Therapeutic Chemical Classification System (ATC) for medical prescription data.</p>
<p>Default <code>classcades</code> are listed in the table. Each classification (classcodes column) can be based on several code systems (regex column) and have several alternative weighted indices (indices column). Those might be combined freely.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">coder</span><span class="fu">::</span><span class="fu"><a href="reference/all_classcodes.html">all_classcodes</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 3</span></span>
<span><span class="co">#&gt;   classcodes    regex                                                                                         indices            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;                                                                                         &lt;chr&gt;              </span></span>
<span><span class="co">#&gt; 1 charlson      icd10, icd9cm_deyo, icd9cm_enhanced, icd10_rcs, icd10_swe, icd8_brusselaers, icd9_brusselaers "charlson, deyo_ra…</span></span>
<span><span class="co">#&gt; 2 cps           icd10                                                                                         "only_ordinary"    </span></span>
<span><span class="co">#&gt; 3 elixhauser    icd10, icd10_short, icd9cm, icd9cm_ahrqweb, icd9cm_enhanced                                   "sum_all, sum_all_…</span></span>
<span><span class="co">#&gt; 4 hip_ae        icd10, kva, icd10_fracture                                                                    ""                 </span></span>
<span><span class="co">#&gt; 5 hip_ae_hailer icd10, kva                                                                                    ""                 </span></span>
<span><span class="co">#&gt; 6 knee_ae       icd10, kva                                                                                    ""                 </span></span>
<span><span class="co">#&gt; 7 rxriskv       atc_pratt, atc_caughey, atc_garland                                                           "pratt, sum_all"</span></span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="relation-to-other-packages">Relation to other packages<a class="anchor" aria-label="anchor" href="#relation-to-other-packages"></a>
</h1>
<p><code>coder</code> uses <code>data.table</code> as a backend to increase computational speed for large datasets. There are some R packages with a narrow focus on Charlson and Elixhauser co-morbidity based on ICD-codes (<a href="https://CRAN.R-project.org/package=icd" class="external-link">icd</a>, <a href="https://CRAN.R-project.org/package=comorbidity" class="external-link">comorbidity</a>, <a href="https://CRAN.R-project.org/package=medicalrisk" class="external-link">medicalrisk</a>, <a href="https://github.com/gforge/comorbidities.icd10" class="external-link">comorbidities.icd10</a>, <a href="https://github.com/wtcooper/icdcoder" class="external-link">icdcoder</a>). The <code>coder</code> package includes similar functionalities but has a wider scope.</p>
</div>
<div class="section level1">
<h1 id="code-of-conduct">Code of conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h1>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=coder" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/coder/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/coder/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing coder</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/ropensci" class="external-link">Erik Bulow</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9973-456X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ropensci" class="external-link">Erik Bulow</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
